<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <!-- Mirrored from 127.0.0.1:64444/Documentation/CreatingModelDrivenTemplates by HTTrack Website Copier/3.x [XR&CO'2008], Wed, 01 Oct 2014 13:48:54 GMT -->
 <!-- Added by HTTrack -->
 <head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8">
  <!-- /Added by HTTrack -->  
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <title>Seam Framework - Creating Model-Driven Templates</title> 
  <link class="component" href="../a4j/s/3_3_3.CR1org/richfaces/renderkit/html/css/basic_classes.xcss/DATB/eAELXT5DOhSIAQ%21sA18_.css" rel="stylesheet" type="text/css">
  <link class="component" href="../a4j/s/3_3_3.CR1org/richfaces/renderkit/html/css/extended_classes.xcss/DATB/eAELXT5DOhSIAQ%21sA18_.css" media="rich-extended-skinning" rel="stylesheet" type="text/css">
  <script src="../a4j/g/3_3_3.CR1org.ajax4jsf.javascript.AjaxScript" type="text/javascript"></script>
  <script type="text/javascript">window.RICH_FACES_EXTENDED_SKINNING_ON=true;</script>
  <script src="../a4j/g/3_3_3.CR1org/richfaces/renderkit/html/scripts/skinning.js" type="text/javascript"></script>
  <link href="../themes/sfwkorg/css/sfwk.css" rel="stylesheet" type="text/css"> 
  <link href="../themes/sfwkorg/css/shCore.css" rel="stylesheet" type="text/css"> 
  <link href="../themes/sfwkorg/css/shThemeDefault.css" rel="stylesheet" type="text/css"> 
  <script type="text/javascript" src="../seam/resource/remoting/resource/remote.js"></script> 
  <script type="text/javascript" src="../seam/resource/remoting/interface1535.js?httpSessionChecker"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/jquery.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/jqueryPlugins.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/lacewiki.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shCore.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushBash.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushCpp.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushCSharp.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushCss.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushDelphi.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushDiff.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushGroovy.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushJava.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushJScript.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushPhp.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushPlain.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushPython.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushRuby.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushScala.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushSql.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushVb.js"></script> 
  <script type="text/javascript" src="../themes/sfwkorg/js/sh/scripts/shBrushXml.js"></script> 
  <script type="text/javascript">
        /* If you really want to load the Flash garbage on every page, go ahead and enable this:
        SyntaxHighlighter.config.clipboardSwf = '/themes/sfwkorg/js/sh/scripts/clipboard.swf';
         */
        SyntaxHighlighter.defaults['gutter'] = false;
        SyntaxHighlighter.all();
	</script> 
  <script type="text/javascript">

        // ###################### Session timeout alert #################################

        var sessionChecker = Seam.Component.getInstance("httpSessionChecker");
        var timeoutURL = '/Home/JBossSeam';
        var timeoutMillis = '900'*1000+3000;
        var sessionTimeoutInterval = null;

        function startSessionTimeoutCheck() {
            sessionTimeoutInterval = setInterval('sessionChecker.isNewSession(alertTimeout)', timeoutMillis);
        }

        function stopSessionTimeoutCheck() {
            if (sessionTimeoutInterval) clearInterval(sessionTimeoutInterval);
        }

        function resetSessionTimeoutCheck() {
            if (sessionTimeoutInterval != null) {
                stopSessionTimeoutCheck();
                startSessionTimeoutCheck();
            }
        }

        function alertTimeout(newSession) {
            if (newSession) {
                clearInterval(sessionTimeoutInterval);
                jQuery(".ajaxSupport")
                        .removeAttr('onblur')
                        .removeAttr('onchange')
                        .removeAttr('onkeyup')
                        .removeAttr('onclick');
                jQuery(".sessionEventTrigger").hide();
                var answer = confirm("Your session has timed out, you will be redirected to the start page.");
                if (answer) window.location = timeoutURL;
            }
        }

        // ###################### Popups #################################

        var fadeInPopupDialog = function(hash) {
            hash.w.fadeIn('fast',function(){ hash.o.show(); });
            jQuery(".closeDialog", hash.w).attr("accesskey", "C"); // Dynamically assign accesskey to .closeDialog buttons
        };

        var fadeOutPopupDialog = function(hash) { hash.w.fadeOut('fast',function(){ hash.o.remove(); }); };

        // ###################### Tabbed Forms #################################

        var formTabErrors = {};

        function formTabRaiseError(tabId, fieldId, message) {

            formTabClearError(tabId, fieldId); // Clear error then re-add

            log("Raise error for tab: '" + tabId + "' field: " + fieldId);

            // Add an error message to the client message box
            log("Adding error message: " +tabId + fieldId + "ErrorMessage")
            jQuery("#clientMessageBoxTable").append(
                '<tr id="' + tabId + fieldId + 'ErrorMessage"><td><img src="/themes/sfwkorg/img/attention.gif" ' +
                'height="18" width="18" class="clientMessageBoxImage attentionImage"/></td>' +
                '<td><span id="attentionMessage" class="attentionMessage">'+ message + '</span></td></tr>'
            );
            if (formTabErrors[tabId] == null) {
                formTabErrors[tabId] = 1;
            } else {
                formTabErrors[tabId]++;
            }
            formTabRenderErrors(tabId);
        }

        function formTabClearError(tabId, fieldId) {
            if (document.getElementById(tabId+fieldId+"ErrorMessage") != null) { // This error is displayed
                log("Clear error for tab: '" + tabId + "' field: " + fieldId);
                log("Removing error message: " +tabId + fieldId + "ErrorMessage")
                // Remove the error message on the client message box
                jQuery("#"+tabId + fieldId + "ErrorMessage").remove();

                formTabErrors[tabId]--;
                formTabRenderErrors(tabId);
            }
        }

        function formTabRenderErrors(tabId) {
            log("Errors for tab: '" + tabId + "': " + formTabErrors[tabId]);

            if (formTabErrors[tabId] > 0 && document.getElementById(tabId+"InvalidIcon") == null) {
                log("Showing icon for tab: " + tabId);
                // Show an icon on the tab and blink it a few times
                jQuery("#"+tabId)
                    .prepend('<img id="' + tabId + 'InvalidIcon" ' +
                            'src="/themes/sfwkorg/img/attention.gif" width="13" height="13" ' +
                            'alt="!" style="vertical-align:bottom;margin-left:5px;margin-right:5px;"/>');
                pulsate("#"+tabId);
            } else if (formTabErrors[tabId] < 1){
                log("Removing icon of tab: " + tabId);
                jQuery("#"+tabId + "InvalidIcon").remove();             // Remove the error icon on the tab
            }

            var tabsHaveErrors = false;
            for (var tab in formTabErrors) {
                var numOfErrors = formTabErrors[tab];
                if (numOfErrors > 0) {
                    tabsHaveErrors = true;
                    break;
                }
            }

            if (tabsHaveErrors) {
                log("Hiding save button and showing form message box");
                jQuery(".saveButton").hide();                       // Hide save button(s)
                jQuery(".formControls").css("height", "30px");      // Adjust height for missing save button
                jQuery("#messageBoxContainer").hide();                 // Hide server messages
                jQuery("#clientMessageBoxContainer").show();           // Show client error messages
            } else {
                log("Showing save button and hiding form message box");
                jQuery(".saveButton").show();                       // Show save button(s)
                jQuery(".formControls").css("height", "");          // Readjust height for present save button
                jQuery("#clientMessageBoxContainer").hide();           // Hide client error messages
            }
        }

        function formTabClicked() {
            jQuery("#messageBoxContainer").hide();                 // Hide server messages
        }

        function log(message) {
            return; // Remove to enable logging
            if (!log.window_ || log.window_.closed) {
                var win = window.open("", null, "width=400,height=200," +
                                                "scrollbars=yes,resizable=yes,status=no," +
                                                "location=no,menubar=no,toolbar=no");
                if (!win) return;
                var doc = win.document;
                doc.write("<html><head><title>Debug Log</title></head><body style='font-family: monospace'></body></html>");
                doc.close();
                log.window_ = win;
            }
            var logLine = log.window_.document.createElement("div");
            logLine.appendChild(log.window_.document.createTextNode(message));
            log.window_.document.body.appendChild(logLine);
        }

        // ###################### Design #################################

        function highlightStars(item, range, end) {
            for (i = 1; i <= range; i++) {
                styleClass = ".item"+item+"-rate"+i;
                jQuery(styleClass).attr("src", "../themes/sfwkorg/img/star_grey.gif");
            }
            for (i = 1; i <= end; i++) {
                styleClass = ".item"+item+"-rate"+i;
                jQuery(styleClass).attr("src", "../themes/sfwkorg/img/star.gif");
            }
        }

        function pulsate(query) {
            var blinkCount = 2*2;
            do {
                jQuery(query)['fade'+(blinkCount%2==0?'Out':'In')]('fast');
            } while (--blinkCount);
        }

        function clearDocumentBackground() {
            // Noop for this skin
        }

        // Wrap boxes with border and shadow
        function wrapBoxes() {
            // Noop for this skin
        }

        function initPage() {
            checkCookieSupport();
            wrapBoxes();
        }

        jQuery(function() {
            initPage();
        });

    </script> 
  <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-25106513-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script> 
 </head> 
 <body> 
  <noscript> 
   <div class="cookieJavaScriptWarning">
     Please activate JavaScript in your browser. Without it, you will only be able to browse this website but clicking on any advanced feature (any forms or submit buttons) will not work. 
   </div> 
  </noscript>
  <div id="dialogHelp" class="popupDialog">
   <span id="dialogHelpPopup" title="dialogHelp"></span>
   <span id="dialogHelpInit"> <script type="text/javascript">
            function showHelpPopup(width, height, offsetId) {
                var offset = jQuery("#"+offsetId).offset();
                jsf('dialogHelpPopup')
                    .css({width: width+"px", height: height+"px", top: offset.top-100+"px", left: offset.left-150+"px"})
                    .jqm({
                        closeClass: "closeDialog",
                        overlay: 0
                    });

                jQuery("#dialogHelpContent").css("width", width-20+"px").css("height", height-75+"px");
                jQuery("#dialogHelpContent").css("overflow", "auto");

                jsf('dialogHelpPopup').jqmShow();
            }
        </script></span> 
   <script type="text/javascript">jQuery(function() {
        jsf('dialogHelpPopup').Resizable({
            minTop: 1,
            dragHandle: "#dialogHelpHead",
            handlers: { se: "#dialogHelpResizeHandle" }
        });
    });</script> 
   <div class="popupDialogHead" id="dialogHelpHead">
    Help
   </div>
   <div id="dialogHelpContent" class="popupDialogContent"></div>
   <div id="dialogHelpControls" class="popupDialogControls">
    <div id="j_id14" style="padding:5px;">
     <a href="#" class="buttonNonpersistent closeDialog"><span class="buttonLabel">Close Help</span></a>
    </div>
   </div>
  </div> 
  <div id="wrapper"> 
   <div id="header">  
    <div>
     <a href="http://seamframework.org/"><img src="../themes/sfwkorg/img/blank.gif" height="98" width="210"></a> 
    </div> 
   </div>
   <div id="body"> 
    <div id="container"> 
     <div id="leftColumn">
      <div id="mainMenu" xmlns="http://www.w3.org/1999/xhtml">
       <div id="j_id121" class="box">
        <div class="mainMenuContainer"> 
         <div class="mainMenuHeader"></div> 
         <div class="mainMenuBody">
          <div id="j_id125" class="level1">
           <span class="level1Marker level1MarkerDot">·</span>
           <span class="level1Marker level1MarkerGreaterThan">&gt;</span>
           <span class="level1Marker level1MarkerSlash">/</span>
           <span class="level1Marker level1MarkerSpace">&nbsp;</span>
           <a href="../Home.html" class="level1Link">Home</a>
          </div>
          <div id="j_id132" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Home/WhySeam.html" class="level2Link">Why Seam?</a>
          </div>
          <div id="j_id139" class="level1">
           <span class="level1Marker level1MarkerDot">·</span>
           <span class="level1Marker level1MarkerGreaterThan">&gt;</span>
           <span class="level1Marker level1MarkerSlash">/</span>
           <span class="level1Marker level1MarkerSpace">&nbsp;</span>
           <a href="../Seam2.html" class="level1Link">Seam 2</a>
          </div>
          <div id="j_id146" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Seam2/GettingStarted.html" class="level2Link">Getting Started</a>
          </div>
          <div id="j_id153" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Seam2/Downloads.html" class="level2Link">Downloads</a>
          </div>
          <div id="j_id160" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Seam2/Documentation.html" class="level2Link">Documentation</a>
          </div>
          <div id="j_id167" class="level1">
           <span class="level1Marker level1MarkerDot">·</span>
           <span class="level1Marker level1MarkerGreaterThan">&gt;</span>
           <span class="level1Marker level1MarkerSlash">/</span>
           <span class="level1Marker level1MarkerSpace">&nbsp;</span>
           <a href="http://weld.cdi-spec.org/" class="level1Link">Weld</a>
          </div>
          <div id="j_id174" class="level1">
           <span class="level1Marker level1MarkerDot">·</span>
           <span class="level1Marker level1MarkerGreaterThan">&gt;</span>
           <span class="level1Marker level1MarkerSlash">/</span>
           <span class="level1Marker level1MarkerSpace">&nbsp;</span>
           <a href="../Community.html" class="level1Link">Community</a>
          </div>
          <div id="j_id181" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="https://community.jboss.org/" class="level2Link">Forums</a>
          </div>
          <div id="j_id188" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Community/CDIExtensions.html" class="level2Link">CDI Extensions</a>
          </div>
          <div id="j_id195" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Community/Contribute.html" class="level2Link">Contribute</a>
          </div>
          <div id="j_id202" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Community/JIRA.html" class="level2Link">JIRA</a>
          </div>
          <div id="j_id209" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Community/MailingLists.html" class="level2Link">Mailing Lists</a>
          </div>
          <div id="j_id216" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Community/Events.html" class="level2Link">Events</a>
          </div>
          <div id="j_id223" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Community/Links.html" class="level2Link">Links</a>
          </div>
          <div id="j_id230" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="../Community/SeamInProduction.html" class="level2Link">Seam In Production</a>
          </div>
          <div id="j_id237" class="level1">
           <span class="level1Marker level1MarkerDot">·</span>
           <span class="level1Marker level1MarkerGreaterThan">&gt;</span>
           <span class="level1Marker level1MarkerSlash">/</span>
           <span class="level1Marker level1MarkerSpace">&nbsp;</span>
           <a href="../Documentation.html" class="level1Link">Documentation</a>
          </div>
          <div id="j_id244" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="FAQs.html" class="level2Link">FAQs</a>
          </div>
          <div id="j_id251" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="KnowledgeBase.html" class="level2Link">Knowledge Base</a>
          </div>
          <div id="j_id258" class="level2">
           <span class="level2Marker level2MarkerDot">·</span>
           <span class="level2Marker level2MarkerGreaterThan">&gt;</span>
           <span class="level2Marker level2MarkerSlash">/</span>
           <span class="level2Marker level2MarkerSpace">&nbsp;</span>
           <a href="Design.html" class="level2Link">Design</a>
          </div> 
         </div> 
         <div class="mainMenuFooter"></div> 
        </div>
       </div> 
      </div> 
      <br> 
      <div style="margin-top: 25px; margin-left: 15px; margin-right: 15px; "> 
       <h2>Built with Seam</h2> 
       <p> You can find the full source code for this website in the <a href="/Download.html">Seam package</a> in the directory /examples/wiki. It is licensed under the LGPL. </p> 
       <div style="text-align:center;">
        <a href="/Community/GetASeamIcon.html"><img src="../themes/sfwkorg/img/runningon_seamlogo_beige.gif" height="50" width="200"></a> 
       </div> 
      </div> 
     </div> 
     <div id="rightColumn">
      <img src="../themes/sfwkorg/img/blank.gif" height="8" width="1">
      <div id="breadcrumb" class="breadcrumb">
       <span class="breadcrumbPanel"><a href="../index.html" class="itemLink breadcrumbRoot">Site</a><span class="itemSeparator breadcrumbRoot">·</span><a href="../Documentation.html" class="itemLink">Documentation</a><span class="itemSeparatorDot itemSeparator">·</span><span class="itemSeparatorGreaterThan itemSeparator">&gt;</span><span class="itemSeparatorSlash itemSeparator">/</span><a href="KnowledgeBase.html" class="itemLink">Knowledge Base</a><span class="itemSeparatorDot itemSeparator">·</span><span class="itemSeparatorGreaterThan itemSeparator">&gt;</span><span class="itemSeparatorSlash itemSeparator">/</span><a href="Facelets.html" class="itemLink">Facelets</a><span class="itemSeparatorDot itemSeparator">·</span><span class="itemSeparatorGreaterThan itemSeparator">&gt;</span><span class="itemSeparatorSlash itemSeparator">/</span><a href="ModelDrivenTemplates.html" class="itemLink">Model-Driven Templates</a><span class="itemSeparatorDot itemSeparator">·</span><span class="itemSeparatorGreaterThan itemSeparator">&gt;</span><span class="itemSeparatorSlash itemSeparator">/</span><a href="CreatingModelDrivenTemplates.html" class="itemText">Creating Model-Driven Templates</a></span>
      </div>
      <div id="messageBoxContainer"></div>
      <div id="clientMessageBoxContainer" style="display:none;"> 
       <div id="clientMessageBox" class="messageBox"> 
        <table id="clientMessageBoxTable" class="messageBoxTable" cellpadding="0" cellspacing="0" border="0"></table> 
        <script type="text/javascript">jQuery(function() {
                    jQuery("#clientMessageBoxContainer").css("margin-top", "10px").css("margin-bottom", "10px");
                    pulsate(".clientMessageBoxImage");
                });</script> 
       </div>
      </div> 
      <div id="documentDisplayContainer" class="box">
       <div id="documentDisplay" class="documentDisplay">
        <div id="j_id362"> 
         <h1 class="documentTitle"><a href="CreatingModelDrivenTemplates.html">Creating Model-Driven Templates</a> </h1>
        </div>
        <p class="wikiPara"> This page describes an experimental, model-driven technique for constructing JSF views. The technique aims to reduce boilerplate and improve maintainablity for some <q>normal</q> seam-gen use-cases, and it doesn't require deep JSF knowledge. </p> 
        <p class="wikiPara"> <u>The core idea</u>: Suppose we have a CRUD page that needs to display a property of a Java bean. In seam-gen, an FTL template includes logic which examines the property and prints out several lines of JSF. In this document's alternative approach, a runtime component (PropertyTemplateManager) searches for a template file that specifies how to display the property. </p> 
        <p class="wikiPara"> To see how this idea plays out, this document describes some key code snippets in an example app. The code-snippets require files from the <i class="wikiEmphasis">property-templates-0.1.jar</i> (in this directory). </p> 
        <p class="wikiPara"> (Aside: The original JavaBeans specification includes a mechanism for model-driven view construction. This seems similar. To my understanding, though, the JavaBeans spec is geared toward AWT/Swing applications. This mechanism is designed for JSF/Seam applications.) </p> 
        <h1 class="wikiHeadline1" id="H-Motivation"><a href="CreatingModelDrivenTemplates.html#H-Motivation">Motivation</a></h1> 
        <p class="wikiPara"> First, a little glib CW: Code generators, like seam-gen, can help developers get going quickly, and they provide many spots where developers can replace the output with hand-crafted code. Unfortunately, code generators also produce large volumes of slightly-different code, and maintaining that code can suck. In particular, how do we handle systematic changes to code? Perhaps we re-run the generator (and lose our customizations), or we perhaps we get familiar with copy/paste. </p> 
        <p class="wikiPara"> Here are a few cases in which one may wish to make systematic changes to code produced by seam-gen: </p> 
        <ul class="wikiUnorderedList"> 
         <li class="wikiUnorderedListItem"> Implement a <q>click-to-edit</q> UI that applies to all inputs</li> 
         <li class="wikiUnorderedListItem"> Add extra widgets depending on a property's type or annotations (e.g. whenever we display or edit an @Email property, we should show a <q>mailto</q> link)</li> 
         <li class="wikiUnorderedListItem"> Hook-up converters and validators depending on a property's type or annotations. (e.g. whenever we edit a @PhoneNumber property, hook up a phoneNumberConverter)</li> 
         <li class="wikiUnorderedListItem"> Change the type-information for a property.</li> 
        </ul> 
        <p class="wikiPara"> In all of these cases, I was tempted to copy-paste like a maniac, to edit the seam-gen templates, and/or to re-run seam-gen. I settled on an approach which simplifies the seam-gen templates, removes some logic from seam-gen, and handles the logic at runtime. </p> 
        <h1 class="wikiHeadline1" id="H-ExampleTheModel"><a href="CreatingModelDrivenTemplates.html#H-ExampleTheModel">Example: The Model</a></h1> 
        <pre class="wikiPreformatted">
@Entity
public class Contact ... {
    @Email
    @Length(max=80)
    private contactEmail;
  
    @PhoneNumber
    @Length(max=16)
    private String cellPhone;

    ...
}
</pre> 
        <h1 class="wikiHeadline1" id="H-ExampleAnQEditqPageWithNormalSeamgen"><a href="CreatingModelDrivenTemplates.html#H-ExampleAnQEditqPageWithNormalSeamgen">Example: An <q>Edit</q> page with normal seam-gen</a></h1> 
        <p class="wikiPara"> Given the above model, seam-gen would produce an edit page that looks a bit like this: </p> 
        <pre class="wikiPreformatted">
&lt;!-- File: /ContactEdit.xhtml --&gt;
...
        &lt;rich:panel&gt;
            &lt;f:facet name="header"&gt;#{contactHome}.managed ? 'Edit' : 'Add'} Seminar&lt;/f:facet&gt;

            &lt;s:decorate id="emailDecoration" template="layout/edit.xhtml"&gt;
                &lt;ui:define name="label"&gt;email&lt;/ui:define&gt;
                &lt;h:inputText id="email"
                           size="60"
                      maxlength="80"
                          value="#{contactHome}.instance.email}"&gt;
                    &lt;a:support event="onblur" reRender="emailDecoration" bypassUpdates="true" ajaxSingle="true"/&gt;
                &lt;/h:inputText&gt;
            &lt;/s:decorate&gt;

            &lt;s:decorate id="cellPhoneDecoration" template="layout/edit.xhtml"&gt;
                &lt;ui:define name="label"&gt;cellPhone&lt;/ui:define&gt;
                &lt;h:inputText id="cellPhone"
                           size="16"
                      maxlength="16"
                          value="#{contactHome}.instance.cellPhone}"&gt;
                    &lt;a:support event="onblur" reRender="cellPhoneDecoration" bypassUpdates="true" ajaxSingle="true"/&gt;
                &lt;/h:inputText&gt;
            &lt;/s:decorate&gt;

        &lt;/rich:panel&gt;
...
</pre> 
        <h1 class="wikiHeadline1" id="H-ExampleAnQEditqPageWithPropertytemplates"><a href="CreatingModelDrivenTemplates.html#H-ExampleAnQEditqPageWithPropertytemplates">Example: An <q>Edit</q> page with property-templates</a></h1> 
        <p class="wikiPara"> With property-templates, the code-generator doesn't make as many decisions about the markup produced for each property. Instead, that decision is delegated to the &lt;dui:include&gt; tag. </p> 
        <pre class="wikiPreformatted">
&lt;!-- File: /SeminarEdit.xhtml --&gt;
...
        &lt;rich:panel&gt;
            &lt;f:facet name="header"&gt;#{contactHome}.managed ? 'Edit' : 'Add'} Contact&lt;/f:facet&gt;

            &lt;dui:bean beanClass="org.example.entity.Contact" bean="#{contactHome.instance}" viewType="edit"&gt;
              &lt;dui:include id="emailDecoration" property="email" /&gt;
              &lt;dui:include id="cellPhoneDecoration" property="cellPhone" /&gt;
            &lt;/dui:bean&gt;

        &lt;/rich:panel&gt;
...
</pre> 
        <h1 class="wikiHeadline1" id="H-ExampleLocatingPropertyTemplates"><a href="CreatingModelDrivenTemplates.html#H-ExampleLocatingPropertyTemplates">Example: Locating property templates</a></h1> 
        <p class="wikiPara"> The &lt;dui:include&gt; tags are similar to &lt;ui:include&gt;, but the <i class="wikiEmphasis">dui</i> version is a little more dynamic -- it triggers a search (using the PropertyTemplateManager) to dynamically select a template file. For example, given <i class="wikiEmphasis">property=email</i>, the search will select the first available file from this list: </p> 
        <ol class="wikiOrderedList"> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/com/example/entity/Contact/email-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/com/example/annotations/Email-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/org/hibernate/validator/Length-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/java/lang/String-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/java/lang/Object-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/default.xhtml</li> 
        </ol> 
        <p class="wikiPara"> The search for <i class="wikiEmphasis">cellPhone</i> will choose the first available file from this list: </p> 
        <ol class="wikiOrderedList"> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/com/example/entity/Contact/cellPhone-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/com/example/annotations/PhoneNumber-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/org/hibernate/validator/Length-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/java/lang/String-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/java/lang/Object-edit.xhtml</li> 
         <li class="wikiOrderedListItem"> /WEB-INF/property/default.xhtml</li> 
        </ol> 
        <h1 class="wikiHeadline1" id="H-ExampleDesigningAPropertyTemplate"><a href="CreatingModelDrivenTemplates.html#H-ExampleDesigningAPropertyTemplate">Example: Designing a property template</a></h1> 
        <p class="wikiPara"> The first property-template will be a generic one that works for almost any property of any simple type (String, Boolean, double, etc). It relies on JSF/Seam to provide an appropriate converter: </p> 
        <pre class="wikiPreformatted">
&lt;!-- File: /WEB-INF/property/java/lang/Object-edit.xhtml --&gt;
&lt;ui:composition&gt;
        &lt;s:decorate id="#{id}" template="/layout/edit.xhtml"&gt;
                &lt;ui:define name="label"&gt;#{messages[property]}&lt;/ui:define&gt;
                &lt;h:inputText
                        value="#{bean[property]}"
                        required="#{requiredProperty == null ? false : requiredProperty}"
                        size="#{(size != null) ? size : 32}"
                        maxlength="#{(maxlength != null) ? maxlength : (size != null ? size : 32) }"&gt;
                        &lt;a:support event="onblur" reRender="#{id}" bypassUpdates="true" ajaxSingle="true"/&gt;
                &lt;/h:inputText&gt;
        &lt;/s:decorate&gt;
&lt;/ui:composition&gt;
</pre> 
        <p class="wikiPara"> This template resembles the seam-gen code, but it plugs in the parameters from &lt;dui:bean&gt; and &lt;dui:include&gt;. In particular, notice expressions like &lt;s:decorate id=<q>#{id}</q>&gt; and &lt;h:inputText value=<q>#{bean[property]}</q>&gt;. </p> 
        <p class="wikiPara"> Of course, like the seam-gen code, this template is pretty generic -- it's designed to work with almost any property. It doesn't provide a very rich interface. We should provide specialized templates based on the type of information we're trying to edit. In the following example, we define a richer UI for @Email properties. The UI includes a <i class="wikiEmphasis">mailto</i> link. </p> 
        <pre class="wikiPreformatted">
&lt;!-- File: /WEB-INF/property/com/example/annotations/Email-edit.xhtml --&gt;
&lt;ui:composition&gt;
        &lt;s:decorate id="#{id}" template="/layout/edit.xhtml" styleClass="emailProperty"&gt;
                &lt;ui:define name="label"&gt;#{messages[property]}&lt;/ui:define&gt;
                &lt;h:inputText
                        value="#{bean[property]}"
                        styleClass="emailPropertyInput"
                        required="#{requiredProperty == null ? false : requiredProperty}"
                        size="#{(size != null) ? size : 32}"
                        maxlength="#{(maxlength != null) ? maxlength : (size != null ? size : 32) }"&gt;
                        &lt;a:support event="onblur" reRender="#{id}" bypassUpdates="true" ajaxSingle="true"/&gt;
                &lt;/h:inputText&gt;

                &lt;s:span rendered="${! empty bean[property]}"&gt;
                        [&lt;a href="#" onclick="window.location = 'mailto:'+findCousinsByClassName(this,'emailProperty','emailPropertyInput')[0].value);return false;"&gt;Open&lt;/a&gt;
                &lt;/s:span&gt;
        &lt;/s:decorate&gt;
</pre> 
        <p class="wikiPara"> The second template resembles the first: both of them include an &lt;s:decorate template=<q>/layout/edit.xhtml</q>&gt; tag. Both define a label. Both use the <i class="wikiEmphasis">id</i> parameter. It is very handy to ensure that all PT's that are designed for <i class="wikiEmphasis">viewType=edit</i> have these similar features. </p> 
        <p class="wikiPara"> More generally, for <i class="wikiEmphasis">viewType=edit</i>, there is an implicit contract between the broader page (<i class="wikiEmphasis">/ContactEdit.xhtml</i>) and the property templates (<i class="wikiEmphasis">/WEB-INF/property/<u>foo</u>-edit.xhtml</i>). The broader page assumes that any template will include an &lt;s:decorate&gt; tag. </p> 
        <p class="wikiPara"> We can adapt the &lt;dui:include&gt; technique to other kinds of views -- such as <i class="wikiEmphasis">display</i> views and <i class="wikiEmphasis">list</i> views. Of course, the contract would be different. With <i class="wikiEmphasis">list</i> views, the broader page assumes that the template will include an &lt;h:column&gt; tag instead of an &lt;s:decorate&gt; tag. </p> 
        <h1 class="wikiHeadline1" id="H-ConsiderationsLimitationsIssues"><a href="CreatingModelDrivenTemplates.html#H-ConsiderationsLimitationsIssues">Considerations, Limitations, Issues</a></h1> 
        <p class="wikiPara"> The &lt;dui:include&gt; is useful for many properties, but it is not mandatory. You can easily mix-and-match property templates with hand-crafted code. </p> 
        <p class="wikiPara"> Sometimes, the view for one property may be connected to the view for another column, and we need a way to wire them together. In these cases, you might tweak the contract or rip-out the &lt;dui:include&gt;. </p> 
        <p class="wikiPara"> The &lt;dui:bean&gt; and &lt;dui:include&gt; tag require you to explicitly define <i class="wikiEmphasis">beanClass</i> and <i class="wikiEmphasis">property</i>. There are some alternative formulations (such as &lt;dui:include property=<q>#{myHome.instance.foo}</q>&gt;) which look nicer but are difficult or impossible to implement. There are a few limitations which lead to the current formulation: </p> 
        <ul class="wikiUnorderedList"> 
         <li class="wikiUnorderedListItem"> JSF facelets are easiest to manage and re-use if the component graph remains static. When page processing begins, we try to construct the Right(tm) graph. The graph should not change as the data changes. Moreover, we must be able to construct the graph <i class="wikiEmphasis">even if the data is null</i>.</li> 
         <li class="wikiUnorderedListItem"> A static examination of a ValueExpression could tell us the property's type and annotations... but not reliably. For example, any EL that references a Map will lose type information.</li> 
         <li class="wikiUnorderedListItem"> The ValueExpressions API doesn't provide access to annotations.</li> 
        </ul> 
        <p class="wikiPara"> If you create a new .xhtml file, the file may not be used automatically. A <i class="wikiEmphasis">Full Publish</i> will fix this. (It seems like there should be a less drastic way, but I haven't found it.) </p> 
        <p class="wikiPara"> The templates don't currently have access to the annotation data, but this could be very useful: </p> 
        <ul class="wikiUnorderedList"> 
         <li class="wikiUnorderedListItem"> e.g. in /WEB-INF/property/java/lang/Object-edit.xhtml, the &lt;h:inputText maxlength=<q>XYZ</q>&gt; could be harmonized with @Length(max=XYZ). </li> 
         <li class="wikiUnorderedListItem"> e.g. in /WEB-INF/property/java/util/Date-edit.xhtml, we should exploit the @Temporal annotation.</li> 
        </ul> 
        <p class="wikiPara"> The &lt;dui:include&gt; tag is basically re-entrant -- e.g. a &lt;dui:include&gt; tag may include a template which includes another &lt;dui:include&gt; tag. This functionality provides a natural way to handle JPA's @Embeddable feature. However, a developer must be conscientious about which parameters are passed to which tags: by default, parameters for the outer template will propagate to the inner template. This will not happen, however, if you ensure that the inner &lt;dui:include&gt; explicitly specifies all parameters required for its children. If you're aware of this, then you can easily avoid re-entrancy problems.</p> 
       </div>
       <div id="j_id374" class="documentCreatorHistory undecoratedLink smallFont">
        <div id="j_id375">
          Created:&nbsp;27. Oct 2008, 20:07&nbsp;America/New_York&nbsp;(Tim Otten)
        </div>
        <div id="j_id383">
          Last Modified:&nbsp;19. Sep 2011, 06:50&nbsp;America/New_York&nbsp;(Shane Bryzak)
        </div>
       </div> 
      </div>
      <div id="commentDisplayForm">
       <div id="comments" class="commentsDisplay"></div>
      </div> 
     </div> 
     <div class="clear" style="padding-top:15px;"></div> 
    </div>
   </div> 
  </div> 
  <div id="footer" class="undecoratedLink"> 
   <p> © Copyright 2009, Red Hat Middleware, LLC. All rights reserved. JBoss and Seam are registered trademarks and servicemarks of <a href="http://www.redhat.com/">Red Hat, Inc</a>. [<a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a>]</p> 
  </div>
  <div id="status">
   <span id="globalStatus"><span id="globalStatus.start" style="display: none">
     <div id="j_id608" class="statusStart">
      <img src="../themes/sfwkorg/img/statusindicator.gif" height="25" width="20">
     </div></span><span id="globalStatus.stop">
     <div id="j_id610" class="statusStop">
      <img src="../themes/sfwkorg/img/blank.gif" height="25" width="20">
     </div></span></span>
  </div>  
  <!-- Mirrored from 127.0.0.1:64444/Documentation/CreatingModelDrivenTemplates by HTTrack Website Copier/3.x [XR&CO'2008], Wed, 01 Oct 2014 13:48:59 GMT --> 
  <!-- Added by HTTrack -->
  <meta http-equiv="content-type" content="text/html;charset=UTF-8">
  <!-- /Added by HTTrack --> 
 </body>
</html>